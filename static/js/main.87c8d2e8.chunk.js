(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{11:function(e,t,n){},25:function(e,t,n){e.exports=n(57)},30:function(e,t,n){},31:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),i=n.n(c),o=(n(30),n(1)),l=n(2),s=n(5),u=n(3),m=n(7),h=n(4);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=r.a.createElement("circle",{cx:11,cy:11,r:8}),v=r.a.createElement("line",{x1:21,y1:21,x2:16.65,y2:16.65}),g=function(e){var t=e.svgRef,n=e.title,a=p(e,["svgRef","title"]);return r.a.createElement("svg",f({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-search",ref:t},a),n?r.a.createElement("title",null,n):null,d,v)},y=r.a.forwardRef((function(e,t){return r.a.createElement(g,f({svgRef:t},e))})),b=(n.p,n(11),n(31),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={value:""},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"grid-row"},r.a.createElement("form",{id:"searchForm",className:"grid-cell form-search",onSubmit:this.props.onSubmit},r.a.createElement("label",{htmlFor:"search"},"Search for your city"),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{id:"search",type:"text",name:"search",placeholder:"Search for your city...",onChange:this.handleChange,value:this.state.value,className:"night"===this.props.mode?"input__text input__text--dark":"input__text"}),r.a.createElement("button",{form:"searchForm",className:"submit"},r.a.createElement(y,{title:"Magnifying glass"}),r.a.createElement("span",{className:"sr-only"},"Search")))))}}]),t}(r.a.Component)),O=n(9),E=n.n(O),j=n(21),w=n(22),k=n.n(w).a.create({baseURL:"https://api.openweathermap.org/data/2.5/weather"}),x="dd6866086c793ca95487b4ee51f83cf5",S=(n(50),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",{className:"city"},this.props.cityName)}}]),t}(r.a.Component)),C=(n(51),n(8),{width:75,height:"auto"}),N=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.icon,t="".concat("/react-weather","/img/").concat(e,".svg");return r.a.createElement("div",{className:"grid-cell spans-12 weather-block"},r.a.createElement("img",{src:t,alt:"",style:C}),r.a.createElement("p",{className:"detail"},this.props.weather))}}]),t}(r.a.Component),R=(n(52),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("p",{className:"temp"},this.props.temp,"\xb0C")}}]),t}(r.a.Component)),L=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).getCurrentDate=n.getCurrentDate.bind(Object(m.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"getCurrentDate",value:function(){return new Date(Date.now()).toLocaleDateString(void 0,{day:"numeric",month:"long",hour:"numeric",minute:"2-digit"})}},{key:"render",value:function(){return r.a.createElement("p",{className:"detail"},this.getCurrentDate())}}]),t}(r.a.Component);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var D=r.a.createElement("path",{d:"M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"}),T=function(e){var t=e.svgRef,n=e.title,a=I(e,["svgRef","title"]);return r.a.createElement("svg",P({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-wind",ref:t},a),n?r.a.createElement("title",null,n):null,D)},W=r.a.forwardRef((function(e,t){return r.a.createElement(T,P({svgRef:t},e))})),M=(n.p,function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(W,{title:"Wind",width:"25",height:"auto"}),r.a.createElement("p",{className:"detail"},"Wind Speed"),r.a.createElement("p",null,this.props.windSpeed," m/s"))}}]),t}(r.a.Component));function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _=r.a.createElement("path",{d:"M17 18a5 5 0 0 0-10 0"}),H=r.a.createElement("line",{x1:12,y1:2,x2:12,y2:9}),F=r.a.createElement("line",{x1:4.22,y1:10.22,x2:5.64,y2:11.64}),U=r.a.createElement("line",{x1:1,y1:18,x2:3,y2:18}),z=r.a.createElement("line",{x1:21,y1:18,x2:23,y2:18}),J=r.a.createElement("line",{x1:18.36,y1:11.64,x2:19.78,y2:10.22}),q=r.a.createElement("line",{x1:23,y1:22,x2:1,y2:22}),G=r.a.createElement("polyline",{points:"8 6 12 2 16 6"}),$=function(e){var t=e.svgRef,n=e.title,a=B(e,["svgRef","title"]);return r.a.createElement("svg",A({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-sunrise",ref:t},a),n?r.a.createElement("title",null,n):null,_,H,F,U,z,J,q,G)},K=r.a.forwardRef((function(e,t){return r.a.createElement($,A({svgRef:t},e))}));n.p;function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var X=r.a.createElement("path",{d:"M17 18a5 5 0 0 0-10 0"}),Y=r.a.createElement("line",{x1:12,y1:9,x2:12,y2:2}),Z=r.a.createElement("line",{x1:4.22,y1:10.22,x2:5.64,y2:11.64}),ee=r.a.createElement("line",{x1:1,y1:18,x2:3,y2:18}),te=r.a.createElement("line",{x1:21,y1:18,x2:23,y2:18}),ne=r.a.createElement("line",{x1:18.36,y1:11.64,x2:19.78,y2:10.22}),ae=r.a.createElement("line",{x1:23,y1:22,x2:1,y2:22}),re=r.a.createElement("polyline",{points:"16 5 12 9 8 5"}),ce=function(e){var t=e.svgRef,n=e.title,a=V(e,["svgRef","title"]);return r.a.createElement("svg",Q({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-sunset",ref:t},a),n?r.a.createElement("title",null,n):null,X,Y,Z,ee,te,ne,ae,re)},ie=r.a.forwardRef((function(e,t){return r.a.createElement(ce,Q({svgRef:t},e))})),oe=(n.p,function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).formatTimeString=n.formatTimeString.bind(Object(m.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"formatTimeString",value:function(e){var t=new Date(1e3*e),n=t.getHours(),a="0".concat(t.getMinutes());return"".concat(n,":").concat(a.substr(-2))}},{key:"render",value:function(){var e="Sunrise"===this.props.desc?r.a.createElement(K,{title:"Sunrise",width:"25",height:"auto"}):r.a.createElement(ie,{title:"Sunset",width:"25",height:"auto"});return r.a.createElement("div",null,e,r.a.createElement("p",{className:"detail"},this.props.desc),r.a.createElement("p",null,this.formatTimeString(this.props.sun)))}}]),t}(r.a.Component)),le=n(23),se=n.n(le),ue=(n(56),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).apiCall=function(){var e=Object(j.a)(E.a.mark((function e(t){var a,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.searchTerm,"uk",r=t,"metric",c=function(){return a?"?q=".concat(a,",").concat("uk","&units=").concat("metric","&APPID=").concat(x):"?".concat(r,"&units=").concat("metric","&APPID=").concat(x)},e.next=7,k.get(c()).then((function(e){return e.data})).then((function(e){n.setState({isLoaded:!0,error:null,items:e,city:e.name,weather:e.weather[0].description,weatherIcon:e.weather[0].icon,temp:e.main.temp,sunrise:e.sys.sunrise,sunset:e.sys.sunset,windSpeed:e.wind.speed})}),(function(e){n.setState({isLoaded:!0,error:e.response.data.message})}));case 7:n.props.passIcon(n.state.weatherIcon);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={error:null,isLoaded:!1,items:[],city:void 0,weather:void 0,weatherIcon:void 0,temp:void 0},n.apiCall=n.apiCall.bind(Object(m.a)(n)),n.getLocation=n.getLocation.bind(Object(m.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"getLocation",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var n=t.coords,a=n.latitude,r=n.longitude;e.apiCall("lat=".concat(a,"&lon=").concat(r))}),(function(t){console.warn("ERROR(".concat(t.code,"): ").concat(t.message)),e.setState({isLoaded:!0,error:t.message})}),{maximumAge:0,timeout:5e3}):this.setState({error:"Geolocation declined"})}},{key:"componentDidMount",value:function(){this.getLocation()}},{key:"componentDidUpdate",value:function(e){this.props.searchTerm!==e.searchTerm&&this.apiCall()}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.isLoaded,a=e.city,c=e.weather,i=e.weatherIcon,o=e.sunset,l=e.sunrise,s=e.windSpeed,u=Math.round(this.state.temp);return t?(console.error(t),r.a.createElement("div",{className:"error"},r.a.createElement("h1",null,"Ooops, something's gone wrong!"),r.a.createElement("p",null,"Have you tried searching for your city?"))):n?r.a.createElement("div",{className:"grid-row"},r.a.createElement("div",{className:"grid-cell spans-12"},r.a.createElement(S,{cityName:a}),r.a.createElement(L,null)),r.a.createElement(N,{weather:c,icon:i}),r.a.createElement("div",{className:"grid-cell spans-12"},r.a.createElement(R,{temp:u})),r.a.createElement("div",{className:"grid-cell spans-4"},r.a.createElement(oe,{sun:l,desc:"Sunrise"})),r.a.createElement("div",{className:"grid-cell spans-4"},r.a.createElement(oe,{sun:o,desc:"Sunset"})),r.a.createElement("div",{className:"grid-cell spans-4"},r.a.createElement(M,{windSpeed:s}))):r.a.createElement("div",{className:"grid-row",style:{height:"75%",alignItems:"center"}},r.a.createElement("div",{className:"grid-cell spans-12",style:{display:"flex",justifyContent:"center"}},r.a.createElement(se.a,{sizeUnit:"px",size:50,color:"#fe951b",loading:this.state.loading})))}}]),t}(r.a.Component)),me=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).search=function(e){e.preventDefault(),n.setState({search:e.target.elements.search.value})},n.iconCallback=function(e){e.includes("d")?n.setState({mode:"day"}):e.includes("n")&&n.setState({mode:"night"})},n.state={search:"",mode:""},n.search=n.search.bind(Object(m.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:function(){if("day"===e.state.mode){return{background:"var(--white)",color:"var(--black)",height:"100vh"}}if("night"===e.state.mode){return{background:"var(--black)",color:"var(--white)",height:"100vh"}}}()},r.a.createElement("div",{className:"grid-container",style:{height:"100vh"}},r.a.createElement(b,{onSubmit:this.search,mode:this.state.mode}),r.a.createElement(ue,{searchTerm:this.state.search,passIcon:this.iconCallback})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,n){}},[[25,1,2]]]);
//# sourceMappingURL=main.87c8d2e8.chunk.js.map